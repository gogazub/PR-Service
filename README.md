# PR Reviewer Assignment Service

–°–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤ –Ω–∞ pull request‚Äô—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–∞–Ω–¥—ã.  
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–¥—Ö–æ–¥—ã –∫ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—é –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ —Å –ø—Ä–æ—Å—Ç–æ–π –¥–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π, HTTP API –∏ —Ä–∞–±–æ—Ç–æ–π —Å PostgreSQL.

---

## 1. –ß—Ç–æ –∑–∞ –ø—Ä–æ–µ–∫—Ç

–°–µ—Ä–≤–∏—Å —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É:

- —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;
- —Å–æ–∑–¥–∞–Ω–∏–µ pull request‚Äô–æ–≤;
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –¥–æ –¥–≤—É—Ö —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤ –∏–∑ –∫–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ—Ä–∞;
- –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤ –ø–æ –¥–æ–º–µ–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º;
- –ø—Ä–æ—Å–º–æ—Ç—Ä PR‚Äô–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—Å—Ç—É–ø–∞–µ—Ç —Ä–µ–≤—å—é–≤–µ—Ä–æ–º.

–í—Å—è –≤–Ω–µ—à–Ω—è—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–∞—è —á–∞—Å—Ç—å –æ–ø–∏—Å–∞–Ω–∞ –≤ OpenAPI-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (`openapi.yaml`).

---

## 2. –°—Ç–µ–∫ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–Ø–∑—ã–∫ –∏ —Ä–∞–Ω—Ç–∞–π–º**

- Go (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `net/http`, `database/sql`, `context`, `encoding/json`).

**–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**

- PostgreSQL
  - –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã `teams`, `users`, `pull_requests`, `pr_reviewers`;
  - —Ç–∏–ø `pull_request_status` –∫–∞–∫ `ENUM`;
  - —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `updated_at`.

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

- Docker + Docker Compose ‚Äî –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –±–∞–∑—ã –∫–æ–º–∞–Ω–¥–æ–π `make up`;
- Makefile ‚Äî —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏, –∑–∞–ø—É—Å–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**

- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** `zap` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.
- **–õ–∏–Ω—Ç–µ—Ä—ã:** `golangci-lint` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∏ —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç–µ—Å—Ç—ã HTTP-API —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `docker-compose` (PostgreSQL + —Å–µ—Ä–≤–∏—Å). –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è:
  - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–∞–ª–∏–¥–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã;
  - –¥–æ–º–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ (`TEAM_EXISTS`, `PR_EXISTS`, `PR_MERGED`, `NO_CANDIDATE` –∏ –¥—Ä.);
  - –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è.
- **–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **k6** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (—Å–∫—Ä–∏–ø—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏–ª–∞–≥–∞—é—Ç—Å—è).

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

- –ü—Ä–∏–Ω—Ü–∏–ø—ã ‚Äú—á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã‚Äù:
  - `internal/domain` ‚Äî –¥–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (`User`, `Team`, `PullRequest`) –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤;
  - `internal/usecase` ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Å–µ—Ä–≤–∏—Å—ã / application layer);
  - `internal/adapters/http` ‚Äî HTTP-—Å–ª–æ–π (DTO, —Ö–µ–Ω–¥–ª–µ—Ä—ã);
  - `internal/adapters/repo` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL (repository layer).
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏:** 
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ö–∞–Ω–∏–∑–º `TxGenerator` –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è (usecase). 
  - –°–ª–æ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏–ª–∏ PR) –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ –ë–î.

---

## 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫

### 3.1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å —Ñ–∞–π–ª `.env.example` ‚Äî –Ω–∞ –µ–≥–æ –æ—Å–Ω–æ–≤–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å `.env` —Å –Ω—É–∂–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
  - —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL;
  - –ø–æ—Ä—Ç HTTP-—Å–µ—Ä–≤–µ—Ä–∞;

### 3.2. Makefile –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–ü—Ä–æ–µ–∫—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `make` –∏ `docker compose`. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `make build` ‚Äî —Å–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
- `make up` ‚Äî –ø–æ–¥–Ω—è—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Ñ–æ–Ω–µ (`app + postgres`);
- `make down` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã;
- `make logs` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–∞ (`docker compose logs -f`);
- `make clean` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –∏ —É–¥–∞–ª–∏—Ç—å volume‚Äô—ã;
- `make test` ‚Äî –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤: `go test ./tests/...`; (`make up + test`)
- `make restart` ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã;
- `make ps` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤;
- `make rebuild` ‚Äî `down + build + up` –∑–∞ –æ–¥–∏–Ω —à–∞–≥.

–¢–∏–ø–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∑–∞–ø—É—Å–∫–∞:

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.env.example` ‚Üí `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è.
2. `make up`
 
---

## 4. HTTP-–µ–Ω–¥–ø–æ–∏–Ω—Ç—ã

–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö/–≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—à–∏–±–æ–∫ –∏ –ø—Ä–∏–º–µ—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ —Å–º. –≤ —Ñ–∞–π–ª–µ OpenAPI-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (`openapi.yaml` / `openapi.yml`). –ù–∏–∂–µ ‚Äî –∫—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä—É—á–µ–∫.

### Health
- `GET /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞

### Teams

- `POST /team/add`  
  –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É –∏ –µ—ë —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.  
  - –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ —Å —Ç–∞–∫–∏–º `team_name` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ `TEAM_EXISTS` (`400`).
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞—é—Ç—Å—è/–æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥–µ.

- `GET /team/get?team_name=...`  
  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –ø–æ –µ—ë –∏–º–µ–Ω–∏ (`team_name`).  
  - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Äî –æ–±—ä–µ–∫—Ç `Team`.  
  - –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Äî –æ—à–∏–±–∫–∞ —Å –∫–æ–¥–æ–º `NOT_FOUND` (`404`).

### Users

- `POST /users/setIsActive`  
  –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`is_active`).  
  - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: `user_id`, `is_active`.  
  - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`User`).  
  - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî –æ—à–∏–±–∫–∞ `NOT_FOUND` (`404`).

- `GET /users/getReview?user_id=...`  
  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ PR‚Äô–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω —Ä–µ–≤—å—é–≤–µ—Ä–æ–º.  
  - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Äî –æ–±—ä–µ–∫—Ç —Å `user_id` –∏ –º–∞—Å—Å–∏–≤–æ–º `pull_requests` (–∫–æ—Ä–æ—Ç–∫–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è `PullRequestShort`).  

### Pull Requests

- `POST /pullRequest/create`  
  –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π PR –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∏—Ç—å –¥–æ –¥–≤—É—Ö —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤ –∏–∑ –∫–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ—Ä–∞.  
  - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: `pull_request_id`, `pull_request_name`, `author_id`.  
  - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Äî –æ–±—ä–µ–∫—Ç `PullRequest` —Å –ø–æ–ª–µ–º `assigned_reviewers`.  
  - –ï—Å–ª–∏ PR —Å —Ç–∞–∫–∏–º id —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî `PR_EXISTS` (`409`).  
  - –ï—Å–ª–∏ –∞–≤—Ç–æ—Ä –∏–ª–∏ –µ–≥–æ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã ‚Äî `NOT_FOUND` (`404`).

- `POST /pullRequest/merge`  
  –ü–æ–º–µ—á–∞–µ—Ç PR –∫–∞–∫ `MERGED` (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è).  
  - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: `pull_request_id`.  
  - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `PullRequest` —Å –ø–æ–ª–µ–º `mergedAt`.  
  - –ï—Å–ª–∏ PR –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî `NOT_FOUND` (`404`).

- `POST /pullRequest/reassign`  
  –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–≤—å—é–≤–µ—Ä–∞ –Ω–∞ –¥—Ä—É–≥–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ—Ä–∞.  
  - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: `pull_request_id`, `old_user_id`.  
  - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Äî –æ–±—ä–µ–∫—Ç —Å:
    - `pr` ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `PullRequest`,
    - `replaced_by` ‚Äî `user_id` –Ω–æ–≤–æ–≥–æ —Ä–µ–≤—å—é–≤–µ—Ä–∞.
  - –í–æ–∑–º–æ–∂–Ω—ã–µ –¥–æ–º–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ (`409`):
    - `PR_MERGED` ‚Äî –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∞—Ç—å —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤ —É `MERGED` PR.
    - `NOT_ASSIGNED` ‚Äî —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –±—ã–ª —Ä–µ–≤—å—é–≤–µ—Ä–æ–º —ç—Ç–æ–≥–æ PR.
    - `NO_CANDIDATE` ‚Äî –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –≤ –∫–æ–º–∞–Ω–¥–µ.
  - –ï—Å–ª–∏ PR –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî `NOT_FOUND` (`404`).

---

## 5. TODO –∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

–í —Ä–∞–º–∫–∞—Ö —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–µ—Ä–≤–∏—Å–∞. –ù–∏–∂–µ ‚Äî —Å–ø–∏—Å–æ–∫ –∏–¥–µ–π –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è:

1. **Unit-—Ç–µ—Å—Ç—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (usecase —Å–ª–æ–π)**  
   - –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `testify` (`require/assert`) –∏ mock-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `mockgen` –∏–ª–∏ —Ä—É—á–Ω–∞—è).

2. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è**  
   - –†–∞—Å—à–∏—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ UUID, –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫).

3. **Observability**  
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ Prometheus (latency –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø–æ –∫–æ–¥–∞–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π per endpoint).
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Tracing (Jaeger/OpenTelemetry).

---

## üî• Load & Performance Testing
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–µ–∂–∞—Ç –≤ —Ñ–∞–π–ª–µ `stress-tests-results.txt`

### 1. `/health` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ HTTP-—Å—Ç–µ–∫–∞ (–±–µ–∑ –ë–î)

- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:** ~17 000 RPS  
- **p99 latency:** ~16 ms  

---

### 2. `/users/getReview` ‚Äî —á—Ç–µ–Ω–∏–µ —Å —É—á–∞—Å—Ç–∏–µ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:** ~1 175 RPS  
- **–°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞:** ~40 ms  
- **p95 latency:** ~100 ms  
- **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å:** 50 –ø–æ—Ç–æ–∫–æ–≤  

---

### 3. `CreatePR` (—Ç–µ—Å—Ç —á–µ—Ä–µ–∑ k6) ‚Äî —Å–ª–æ–∂–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è

- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:** ~752 RPS  
- **–°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞:** ~26 ms  
- **p95 latency:** ~45 ms  
- **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å:** 20 VUs  

–û–ø–µ—Ä–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:  
- 4 SELECT (–ø—Ä–æ–≤–µ—Ä–∫–∞ PR, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ–º–∞–Ω–¥—ã, –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤),  
- 2 INSERT,  
- —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —Å Commit.